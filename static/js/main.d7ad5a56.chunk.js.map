{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","services/image-finder-api.js","components/Modal/Modal.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSubmit","e","preventDefault","setState","props","onSubmit","toLowerCase","trim","alert","handleQueryChange","target","value","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","searchResults","onClick","map","el","src","webformatURL","alt","tags","ImageGalleryItemImage","id","Button","ButtonWrapper","newFetchImages","BASE_URL","API_KEY","_page","perPage","axios","defaults","baseURL","url","get","then","res","data","hits","catch","error","console","log","message","ImageGallery","showModal","isLoading","currentImage","handleLoadMore","page","searchPhotos","results","length","prevState","scrollTo","toggleModal","prevProps","clickOnImage","color","height","width","timeout","Loader","modalRoot","document","querySelector","Modal","handleKeyDown","code","onOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","handleGalleryItem","imageFile","largeImageURL","scrollOnLoadButton","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,gC,mBCAlED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,yLCEtCC,E,4MACnBC,MAAQ,CACNC,YAAa,I,EAEfC,aAAe,SAAAC,GACbA,EAAEC,iBACF,EAAKC,SAAS,CAAEJ,YAAa,KACE,KAA3B,EAAKD,MAAMC,YAIf,EAAKK,MAAMC,SAAS,EAAKP,MAAMC,YAAYO,cAAcC,QAHvDC,MAAM,8B,EAKVC,kBAAoB,SAAAR,GAClB,EAAKE,SAAS,CAAEJ,YAAaE,EAAES,OAAOC,S,4CAExC,WACE,OACE,wBAAQC,UAAWC,IAAEhB,UAArB,SACE,uBAAMe,UAAWC,IAAEC,WAAYT,SAAUU,KAAKf,aAA9C,UACE,wBAAQgB,KAAK,SAASJ,UAAWC,IAAEI,iBAAnC,SACE,sBAAML,UAAWC,IAAEK,sBAAnB,sBAEF,uBACEC,SAAUJ,KAAKN,kBACfG,UAAWC,IAAEO,gBACbT,MAAOI,KAAKjB,MAAMC,YAClBiB,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA9BeC,a,yCCAxB,SAASC,EAAT,GAAuD,IAA3BC,EAA0B,EAA1BA,cAAeC,EAAW,EAAXA,QACxD,OAAOD,EAAcE,KAAI,SAAAC,GACvB,OACE,oBAAIjB,UAAWC,IAAEY,iBAAjB,SACE,qBACEE,QAAS,WACPA,EAAQE,IAEVC,IAAKD,EAAGE,aACRC,IAAKH,EAAGI,KACRrB,UAAWC,IAAEqB,yBAPuBL,EAAGM,O,qBCHlC,SAASC,EAAT,GAA8B,IAAZT,EAAW,EAAXA,QAE/B,OACE,qBAAKf,UAAWC,IAAEwB,cAAlB,SACE,wBAAQrB,KAAK,SAASJ,UAAWC,IAAEuB,OAAQT,QAASA,EAApD,yB,qBCKAW,EAAiB,I,WCTrB,WAAYC,EAAUC,GAAU,oBAC9BzB,KAAKwB,SAAWA,EAChBxB,KAAKyB,QAAUA,EACfzB,KAAK0B,MAAQ,E,sCAEf,WACE,OAAO1B,KAAK0B,O,IAEd,SAAS9B,GACP,OAAQI,KAAK0B,OAAS9B,I,0BAExB,SAAaZ,EAAa2C,GACxB,IACEC,IAAMC,SAASC,QAAU9B,KAAKwB,SAC9B,IAAIO,EAAG,eAAW/B,KAAKyB,QAAhB,cAA6BzC,EAA7B,qBAAqD2C,EAArD,iBAAqE3B,KAAK0B,OACjF,OAAOE,IACJI,IAAID,GACJE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,QACrBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAMG,YACpC,MAAOH,GACP7C,MAAM6C,Q,KDXW,CAFN,2BACD,sCAEKI,E,4MACnB3D,MAAQ,CACN4B,cAAe,GACfgC,WAAW,EACXC,WAAW,EACXC,aAAc,CACZd,IAAK,GACLd,IAAK,K,EAIT6B,eAAiB,WACf,EAAK1D,SAAS,CAAEwD,WAAW,IAC3BrB,EAAewB,KAAO,EACtBxB,EAAeyB,aAAa,EAAK3D,MAAML,YAAa,IAAIiD,MAAK,SAAAgB,GACpC,IAAnBA,EAAQC,QAIZ,EAAK9D,UAAS,SAAA+D,GAAS,MAAK,CAC1BxC,cAAc,GAAD,mBAAMwC,EAAUxC,eAAhB,YAAkCsC,IAC/CL,WAAW,MAEb,EAAKvD,MAAM+D,YAPT3D,MAAM,gC,EAWZ4D,YAAc,WACZ,EAAKjE,UAAS,kBAAoB,CAAEuD,WAAtB,EAAGA,e,wDAGnB,SAAmBW,EAAWH,GAAY,IAAD,OACnCG,EAAUtE,cAAgBgB,KAAKX,MAAML,cACvCgB,KAAKZ,SAAS,CAAEwD,WAAW,IAE3BrB,EACGyB,aAAahD,KAAKX,MAAML,YAAa,IACrCiD,MAAK,SAAAtB,GACJ,GAA6B,IAAzBA,EAAcuC,OAKhB,OAJAzD,MAAM,mBACN,EAAKL,SAAS,CACZwD,WAAW,IAIf,EAAKxD,SAAS,CACZuB,gBACAiC,WAAW,U,oBAMrB,WACE,MAAqC5C,KAAKjB,MAAlC4B,EAAR,EAAQA,cAAeiC,EAAvB,EAAuBA,UACvB,OACE,qCACE,oBAAI/C,UAAWC,IAAE4C,aAAjB,SACE,cAAChC,EAAD,CACEC,cAAeA,EACfC,QAASZ,KAAKX,MAAMkE,iBAGvBX,GACC,cAAC,IAAD,CACE3C,KAAK,OACLuD,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,IACT9D,UAAWC,IAAE8D,SAGhBjD,EAAcuC,OAAS,GAAK,cAAC7B,EAAD,CAAQT,QAASZ,KAAK8C,wB,GAzEjBrC,a,iBETpCoD,EAAYC,SAASC,cAAc,eACpBC,E,4MACnBC,cAAgB,SAAA/E,GACC,WAAXA,EAAEgF,MACJ,EAAK7E,MAAMgE,e,EAGfc,eAAiB,SAAAjF,GACXA,EAAEkF,gBAAkBlF,EAAES,QACxB,EAAKN,MAAMgE,e,uDAGf,WACEgB,OAAOC,iBAAiB,UAAWtE,KAAKiE,iB,kCAE1C,WACEI,OAAOE,oBAAoB,UAAWvE,KAAKiE,iB,oBAG7C,WACE,OAAOO,uBACL,qBAAK3E,UAAWC,IAAE2E,QAAS7D,QAASZ,KAAKmE,eAAzC,SACE,qBAAKtE,UAAWC,IAAEkE,MAAlB,SAA0BhE,KAAKX,MAAMqF,aAEvCb,O,GAvB6BpD,aCEdkE,E,4MACnB5F,MAAQ,CACNC,YAAa,GACb2D,WAAW,EACXE,aAAc,CACZd,IAAK,GACLd,IAAK,K,EAGThC,aAAe,SAAAD,GACb,EAAKI,SAAS,CAAEJ,gBACZ,EAAKD,MAAMC,a,EAIjBqE,YAAc,WACZ,EAAKjE,UAAS,kBAAoB,CAAEuD,WAAtB,EAAGA,e,EAEnBiC,kBAAoB,SAAAC,GAClB,EAAKzF,SAAS,CACZyD,aAAc,CACZd,IAAK8C,EAAUC,cACf7D,IAAK4D,EAAU3D,QAGnB,EAAKmC,e,EAEP0B,mBAAqB,WACnBV,OAAOjB,SAAS,CACd4B,IAAKlB,SAASmB,gBAAgBC,aAC9BC,SAAU,Y,4CAId,WACE,MAAiDnF,KAAKjB,MAA9C8D,EAAR,EAAQA,aAAcF,EAAtB,EAAsBA,UAAW3D,EAAjC,EAAiCA,YACzBqE,EACNrD,KADMqD,YAAapE,EACnBe,KADmBf,aAAc2F,EACjC5E,KADiC4E,kBAAmBG,EACpD/E,KADoD+E,mBAEtD,OACE,sBAAKlF,UAAU,MAAf,UACG8C,GACC,cAAC,EAAD,CAAOU,YAAaA,EAApB,SACE,qBAAKtC,IAAK8B,EAAad,IAAKd,IAAK4B,EAAa5B,QAGlD,cAAC,EAAD,CAAW3B,SAAUL,IACrB,cAAC,EAAD,CACED,YAAaA,EACbuE,aAAcqB,EACdxB,SAAU2B,W,GAjDatE,aCFjC2E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxB,SAASyB,eAAe,U,kBCR1B3G,EAAOC,QAAU,CAAC,aAAe,mCAAmC,iBAAmB,uCAAuC,sBAAwB,4CAA4C,OAAS,+B,kBCA3MD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,mCAAmC,mBAAmB,uC","file":"static/js/main.d7ad5a56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2JFXa\",\"ButtonWrapper\":\"Button_ButtonWrapper__2oSqU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2wSl6\",\"Modal\":\"Modal_Modal__3o-DG\"};","import { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ searchQuery: '' });\n    if (this.state.searchQuery === '') {\n      alert('Please enter you request!');\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery.toLowerCase().trim());\n  };\n  handleQueryChange = e => {\n    this.setState({ searchQuery: e.target.value });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            onChange={this.handleQueryChange}\n            className={s.SearchFormInput}\n            value={this.state.searchQuery}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { PropTypes } from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGalleryItem({ searchResults, onClick }) {\n  return searchResults.map(el => {\n    return (\n      <li className={s.ImageGalleryItem} key={el.id}>\n        <img\n          onClick={() => {\n            onClick(el);\n          }}\n          src={el.webformatURL}\n          alt={el.tags}\n          className={s.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  });\n}\n\nImageGalleryItem.propTypes = {\n  searchResults: PropTypes.array,\n  onClick: PropTypes.func,\n};\n","import { PropTypes } from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  // console.dir(onClick);\n  return (\n    <div className={s.ButtonWrapper}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\n\nimport ImageGalleryItem from './ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Button from '../Button/Button';\nimport FetchImages from '../../services/image-finder-api';\n// import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23234796-47fbd745329069e6b0b2bf0fd';\nconst newFetchImages = new FetchImages(BASE_URL, API_KEY);\nexport default class ImageGallery extends Component {\n  state = {\n    searchResults: [],\n    showModal: false,\n    isLoading: false,\n    currentImage: {\n      url: '',\n      alt: '',\n    },\n  };\n\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    newFetchImages.page = 1;\n    newFetchImages.searchPhotos(this.props.searchQuery, 12).then(results => {\n      if (results.length === 0) {\n        alert('There no pics anymore!!!');\n        return;\n      }\n      this.setState(prevState => ({\n        searchResults: [...prevState.searchResults, ...results],\n        isLoading: false,\n      }));\n      this.props.scrollTo();\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchQuery !== this.props.searchQuery) {\n      this.setState({ isLoading: true });\n\n      newFetchImages\n        .searchPhotos(this.props.searchQuery, 12)\n        .then(searchResults => {\n          if (searchResults.length === 0) {\n            alert('No results');\n            this.setState({\n              isLoading: false,\n            });\n            return;\n          }\n          this.setState({\n            searchResults,\n            isLoading: false,\n          });\n        });\n    }\n  }\n\n  render() {\n    const { searchResults, isLoading } = this.state;\n    return (\n      <>\n        <ul className={s.ImageGallery}>\n          <ImageGalleryItem\n            searchResults={searchResults}\n            onClick={this.props.clickOnImage}\n          />\n        </ul>\n        {isLoading && (\n          <Loader\n            type=\"Bars\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n            className={s.Loader}\n          />\n        )}\n        {searchResults.length > 0 && <Button onClick={this.handleLoadMore} />}\n      </>\n    );\n  }\n}\nImageGallery.propTypes = {\n  clickOnImage: PropTypes.func,\n};\n","import axios from 'axios';\n\nexport default class FetchImages {\n  constructor(BASE_URL, API_KEY) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this._page = 1;\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  searchPhotos(searchQuery, perPage) {\n    try {\n      axios.defaults.baseURL = this.BASE_URL;\n      let url = `?key=${this.API_KEY}&q=${searchQuery}&per_page=${perPage}&page=${this._page}`;\n      return axios\n        .get(url)\n        .then(res => res.data.hits)\n        .catch(error => console.log(error.message));\n    } catch (error) {\n      alert(error);\n    }\n  }\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n  onOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onOverlayClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\r\nimport './App.css';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    showModal: false,\r\n    currentImage: {\r\n      url: '',\r\n      alt: '',\r\n    },\r\n  };\r\n  handleSubmit = searchQuery => {\r\n    this.setState({ searchQuery });\r\n    if (this.state.searchQuery === '') {\r\n      return;\r\n    }\r\n  };\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n  handleGalleryItem = imageFile => {\r\n    this.setState({\r\n      currentImage: {\r\n        url: imageFile.largeImageURL,\r\n        alt: imageFile.tags,\r\n      },\r\n    });\r\n    this.toggleModal();\r\n  };\r\n  scrollOnLoadButton = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { currentImage, showModal, searchQuery } = this.state;\r\n    const { toggleModal, handleSubmit, handleGalleryItem, scrollOnLoadButton } =\r\n      this;\r\n    return (\r\n      <div className=\"App\">\r\n        {showModal && (\r\n          <Modal toggleModal={toggleModal}>\r\n            <img src={currentImage.url} alt={currentImage.alt} />\r\n          </Modal>\r\n        )}\r\n        <Searchbar onSubmit={handleSubmit} />\r\n        <ImageGallery\r\n          searchQuery={searchQuery}\r\n          clickOnImage={handleGalleryItem}\r\n          scrollTo={scrollOnLoadButton}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3wH-j\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__r8IHJ\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__2L_It\",\"Loader\":\"ImageGallery_Loader__3iCSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__13M_R\",\"SearchForm\":\"Searchbar_SearchForm__1P00h\",\"SearchFormButton\":\"Searchbar_SearchFormButton__bkXXI\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1I-RJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1k6p5\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3ghMj\"};"],"sourceRoot":""}