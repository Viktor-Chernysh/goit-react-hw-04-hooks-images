(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={Button:"Button_Button__2JFXa",ButtonWrapper:"Button_ButtonWrapper__2oSqU"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2wSl6",Modal:"Modal_Modal__3o-DG"}},32:function(e,t,a){},33:function(e,t,a){},5:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3wH-j",ImageGalleryItem:"ImageGallery_ImageGalleryItem__r8IHJ",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__2L_It",Loader:"ImageGallery_Loader__3iCSD"}},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__13M_R",SearchForm:"Searchbar_SearchForm__1P00h",SearchFormButton:"Searchbar_SearchFormButton__bkXXI",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1I-RJ",SearchFormInput:"Searchbar_SearchFormInput__1k6p5","SearchForm-input":"Searchbar_SearchForm-input__3ghMj"}},73:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(10),o=a.n(n),s=(a(32),a(4)),l=(a(33),a(6)),u=a.n(l),i=a(0);function h(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(s.a)(a,2),n=c[0],o=c[1];return Object(i.jsx)("header",{className:u.a.Searchbar,children:Object(i.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),o(""),""!==n?t(n.toLowerCase().trim()):alert("Please enter you request!")},children:[Object(i.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(i.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(i.jsx)("input",{onChange:function(e){o(e.target.value)},className:u.a.SearchFormInput,value:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var m=a(16),b=a(25),j=a.n(b),d=a(5),g=a.n(d);function _(e){var t=e.searchResults,a=e.onClick;return t.map((function(e){return Object(i.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(i.jsx)("img",{onClick:function(){a(e)},src:e.webformatURL,alt:e.tags,className:g.a.ImageGalleryItemImage})},e.id)}))}var f=a(13),p=a.n(f);function O(e){var t=e.onClick;return Object(i.jsx)("div",{className:p.a.ButtonWrapper,children:Object(i.jsx)("button",{type:"button",className:p.a.Button,onClick:t,children:"Load more"})})}var S=a(26),I=a(27),y=a(14),x=a.n(y),v=new(function(){function e(t,a){Object(S.a)(this,e),this.BASE_URL=t,this.API_KEY=a,this._page=1}return Object(I.a)(e,[{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"searchPhotos",value:function(e,t){try{x.a.defaults.baseURL=this.BASE_URL;var a="?key=".concat(this.API_KEY,"&q=").concat(e,"&per_page=").concat(t,"&page=").concat(this._page);return x.a.get(a).then((function(e){return e.data.hits})).catch((function(e){return console.log(e.message)}))}catch(r){alert(r)}}}]),e}())("https://pixabay.com/api/","23234796-47fbd745329069e6b0b2bf0fd");function k(e){var t=e.searchQuery,a=e.scrollTo,c=e.clickOnImage,n=Object(r.useState)([]),o=Object(s.a)(n,2),l=o[0],u=o[1],h=Object(r.useState)(!1),b=Object(s.a)(h,2),d=b[0],f=b[1];return Object(r.useEffect)((function(){""!==t&&(f(!0),v.searchPhotos(t,12).then((function(e){if(0===e.length)return f(!1),void alert("No results");u(e),f(!1)})))}),[t]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("ul",{className:g.a.ImageGallery,children:Object(i.jsx)(_,{searchResults:l,onClick:c})}),d&&Object(i.jsx)(j.a,{type:"Bars",color:"#00BFFF",height:100,width:100,timeout:3e3,className:g.a.Loader}),l.length>0&&Object(i.jsx)(O,{onClick:function(){f(!0),v.page=1,v.searchPhotos(t,12).then((function(e){0!==e.length?(u((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e))})),f(!1),a()):alert("There no pics anymore!!!")}))}})]})}var F=a(15),B=a.n(F),w=document.querySelector("#modal-root");function L(e){var t=e.toggleModal,a=e.children;return Object(r.useEffect)((function(){return window.addEventListener("keydown",(function(e){"Escape"===e.code&&t()})),function(){window.removeEventListener("keydown",(function(e){"Escape"===e.code&&t()}))}}),[t]),Object(n.createPortal)(Object(i.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(i.jsx)("div",{className:B.a.Modal,children:a})}),w)}function N(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!1),o=Object(s.a)(n,2),l=o[0],u=o[1],m=Object(r.useState)({url:"",alt:""}),b=Object(s.a)(m,2),j=b[0],d=b[1],g=function(){u(!l)};return Object(i.jsxs)("div",{className:"App",children:[l&&Object(i.jsx)(L,{toggleModal:g,children:Object(i.jsx)("img",{src:j.url,alt:j.alt})}),Object(i.jsx)(h,{onSubmit:function(e){c(e)}}),Object(i.jsx)(k,{searchQuery:a,clickOnImage:function(e){d({url:e.largeImageURL,alt:e.tags}),g()},scrollTo:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}})]})}o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(N,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.013a3a6e.chunk.js.map