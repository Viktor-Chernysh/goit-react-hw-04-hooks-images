{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","services/image-finder-api.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","e","preventDefault","toLowerCase","trim","alert","type","SearchFormButton","SearchFormButtonLabel","onChange","target","value","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","searchResults","onClick","map","el","src","webformatURL","alt","tags","ImageGalleryItemImage","id","Button","ButtonWrapper","newFetchImages","BASE_URL","API_KEY","this","_page","perPage","axios","defaults","baseURL","url","get","then","res","data","hits","catch","error","console","log","message","ImageGallery","scrollTo","clickOnImage","setSearchResults","isLoading","setIsLoading","useEffect","searchPhotos","length","color","height","width","timeout","Loader","page","results","prevRes","modalRoot","document","querySelector","Modal","toggleModal","children","window","addEventListener","code","removeEventListener","createPortal","Overlay","currentTarget","App","showModal","setShowModal","currentImage","setCurrentImage","imageFile","largeImageURL","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.013a3a6e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2JFXa\",\"ButtonWrapper\":\"Button_ButtonWrapper__2oSqU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2wSl6\",\"Modal\":\"Modal_Modal__3o-DG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3wH-j\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__r8IHJ\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__2L_It\",\"Loader\":\"ImageGallery_Loader__3iCSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__13M_R\",\"SearchForm\":\"Searchbar_SearchForm__1P00h\",\"SearchFormButton\":\"Searchbar_SearchFormButton__bkXXI\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1I-RJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1k6p5\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3ghMj\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchQuery('');\n    if (searchQuery === '') {\n      alert('Please enter you request!');\n      return;\n    }\n    onSubmit(searchQuery.toLowerCase().trim());\n  };\n  const handleQueryChange = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          onChange={handleQueryChange}\n          className={s.SearchFormInput}\n          value={searchQuery}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import { PropTypes } from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGalleryItem({ searchResults, onClick }) {\n  return searchResults.map(el => {\n    return (\n      <li className={s.ImageGalleryItem} key={el.id}>\n        <img\n          onClick={() => {\n            onClick(el);\n          }}\n          src={el.webformatURL}\n          alt={el.tags}\n          className={s.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  });\n}\n\nImageGalleryItem.propTypes = {\n  searchResults: PropTypes.array,\n  onClick: PropTypes.func,\n};\n","import { PropTypes } from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  // console.dir(onClick);\n  return (\n    <div className={s.ButtonWrapper}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\n\nimport ImageGalleryItem from './ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Button from '../Button/Button';\nimport FetchImages from '../../services/image-finder-api';\n// import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23234796-47fbd745329069e6b0b2bf0fd';\nconst newFetchImages = new FetchImages(BASE_URL, API_KEY);\nexport default function ImageGallery({ searchQuery, scrollTo, clickOnImage }) {\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleLoadMore = () => {\n    setIsLoading(true);\n    newFetchImages.page = 1;\n    newFetchImages.searchPhotos(searchQuery, 12).then(results => {\n      if (results.length === 0) {\n        alert('There no pics anymore!!!');\n        return;\n      }\n      setSearchResults(prevRes => [...prevRes, ...results]);\n      setIsLoading(false);\n      scrollTo();\n    });\n  };\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n    setIsLoading(true);\n\n    newFetchImages.searchPhotos(searchQuery, 12).then(searchResults => {\n      if (searchResults.length === 0) {\n        setIsLoading(false);\n        alert('No results');\n        return;\n      } else {\n        setSearchResults(searchResults);\n        setIsLoading(false);\n      }\n    });\n  }, [searchQuery]);\n\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        <ImageGalleryItem\n          searchResults={searchResults}\n          onClick={clickOnImage}\n        />\n      </ul>\n      {isLoading && (\n        <Loader\n          type=\"Bars\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n          className={s.Loader}\n        />\n      )}\n      {searchResults.length > 0 && <Button onClick={handleLoadMore} />}\n    </>\n  );\n}\nImageGallery.propTypes = {\n  clickOnImage: PropTypes.func,\n};\n","import axios from 'axios';\n\nexport default class FetchImages {\n  constructor(BASE_URL, API_KEY) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this._page = 1;\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  searchPhotos(searchQuery, perPage) {\n    try {\n      axios.defaults.baseURL = this.BASE_URL;\n      let url = `?key=${this.API_KEY}&q=${searchQuery}&per_page=${perPage}&page=${this._page}`;\n      return axios\n        .get(url)\n        .then(res => res.data.hits)\n        .catch(error => console.log(error.message));\n    } catch (error) {\n      alert(error);\n    }\n  }\n}\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default function Modal({ toggleModal, children }) {\n  // const handleKeyDown = e => {\n  //   if (e.code === 'Escape') {\n  //     toggleModal();\n  //   }\n  // };\n  const onOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      toggleModal();\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('keydown', e => {\n      if (e.code === 'Escape') {\n        toggleModal();\n      }\n    });\n    return () => {\n      window.removeEventListener('keydown', e => {\n        if (e.code === 'Escape') {\n          toggleModal();\n        }\n      });\n    };\n  }, [toggleModal]);\n\n  return createPortal(\n    <div className={s.Overlay} onClick={onOverlayClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import { useState } from 'react';\r\nimport './App.css';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nexport default function App() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [currentImage, setCurrentImage] = useState({\r\n    url: '',\r\n    alt: '',\r\n  });\r\n  const handleSubmit = searchQuery => {\r\n    setSearchQuery(searchQuery);\r\n    if (searchQuery === '') {\r\n      return;\r\n    }\r\n  };\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n  const handleGalleryItem = imageFile => {\r\n    setCurrentImage({\r\n      url: imageFile.largeImageURL,\r\n      alt: imageFile.tags,\r\n    });\r\n    toggleModal();\r\n  };\r\n  const scrollOnLoadButton = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {showModal && (\r\n        <Modal toggleModal={toggleModal}>\r\n          <img src={currentImage.url} alt={currentImage.alt} />\r\n        </Modal>\r\n      )}\r\n      <Searchbar onSubmit={handleSubmit} />\r\n      <ImageGallery\r\n        searchQuery={searchQuery}\r\n        clickOnImage={handleGalleryItem}\r\n        scrollTo={scrollOnLoadButton}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}